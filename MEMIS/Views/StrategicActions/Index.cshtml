@using MEMIS.Data;
@using System.Security.Claims;
@using Microsoft.AspNetCore.Identity;
@model cloudscribe.Pagination.Models.PagedResult<StrategicAction>

@{ ViewData["Title"] = "Index";
        //Layout = "~/Views/Shared/_PlanningLayout.cshtml";
        Layout = "~/Pages/Shared/_ContentNavbarLayout.cshtml"; }


<div class="row">
  <div class="col">
    <h3>Strategic Action</h3>
  </div>
  <div class="col d-flex justify-content-end mb-3">
    <a class="btn btn-info" asp-action="Create">Create New</a>
  </div>
</div>
<div class="card">
  <div class="card-body">
    <div style="width:100%; overflow-x:auto;margin-top:20px;">
      <table class="table table-striped table-bordered table-hover dt-responsive nowrap" id="datatable">
        <thead class="table-active">
          <tr>
            <th>
              @Html.DisplayNameFor(model => model.Data[0].actionCode)
            </th>
            <th>
              @Html.DisplayNameFor(model => model.Data[0].actionName)
            </th>
            <th>
              @Html.DisplayNameFor(model => model.Data[0].StrategicIntervention)
            </th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @foreach (var item in Model.Data)
          {
    <tr>
      <td>
        @Html.DisplayFor(modelItem => item.actionCode)
      </td>
      <td>
        @Html.DisplayFor(modelItem => item.actionName)
      </td>
      <td>
        @Html.DisplayFor(modelItem => item.StrategicIntervention.InterventionName)
      </td>
      <td>
        <div class="btn-group" role="group" aria-label="Actions">
          <a asp-action="Edit" asp-route-id="@item.intAction" class="btn btn-secondary" data-toggle="tooltip" data-placement="top" title="Edit">
            <i class='bx bx-edit'></i>
          </a>
          <a asp-action="Details" asp-route-id="@item.intAction" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="Details">
            <i class='bx bx-detail'></i>
          </a>
          <a asp-action="Delete" asp-route-id="@item.intAction" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Delete">
            <i class='bx bx-message-square-x'></i>
          </a>
        </div>
      </td>
    </tr>
}
        </tbody>
      </table>
      <cs-pager cs-paging-pagenumber="@Model.PageNumber"
                cs-paging-totalitems="@Model.TotalItems"
                cs-paging-pagesize="@Model.PageSize"
                cs-pagenumber-param="pagenumber"
                      asp-controller="StrategicActions"
                asp-action="Index"
                cs-pager-li-current-class="page-item active"
                cs-pager-li-other-class="page-item"
                cs-pager-li-non-active-class="page-item disabled"
                cs-pager-link-current-class="page-link"
                cs-pager-link-other-class="page-link"></cs-pager>
    </div>
  </div>
</div>
