@model IEnumerable<MEMIS.Data.SDTAssessment>

<table class="table table-striped table-bordered table-hover dt-responsive nowrap" id="datatable">
  <thead>
    <tr>
      <th>
        @Html.DisplayNameFor(model => model.Month)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.SDTMasterFk.ServiceDeliveryTimeline)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.SDTMasterFk.Numerator)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.SDTMasterFk.Denominator)
      </th>

      <th>
        @Html.DisplayNameFor(model => model.Numerator)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Denominator)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.ImplementedTimeline)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Rate)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.ProportionTimeline)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Target)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.AchivementStatus)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Variance)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Justification)
      </th>
      <th>
        @Html.DisplayNameFor(model => model.Rating)
      </th>
      <th>
        Department
      </th>
      @*<th>Actions</th>*@
    </tr>
  </thead>
  <tbody>
    @foreach (var item in Model)
    {

      <tr>
        <td>
          @GetMonthname(item.Month)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.SDTMasterFk.ServiceDeliveryTimeline)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.SDTMasterFk.Numerator)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.SDTMasterFk.Denominator)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Numerator)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Denominator)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.ImplementedTimeline)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Rate)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.ProportionTimeline)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Target)
        </td>
        <td>
          <span class="badge" style="background-color:@(item.AchivementStatus=="1.0"?"#00b050":item.AchivementStatus=="0.5"?"#fefe00":"#fd0000")">
            @getAchievement(item.AchivementStatus)
          </span>
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Variance)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Justification)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.Rating)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.SDTMasterFk.DepartmentFk.deptName)
        </td>
        @*<td>
          <div class="btn-group" role="group" aria-label="Actions">           
            <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-info" data-toggle="tooltip" data-placement="top" title="Details">
              <i class='bx bx-detail'></i>
            </a>            
          </div>
        </td>*@
      </tr>
    }
    @functions
			{ public string GetMonthname(int month)
      {
        foreach (var nmonth in ListHelper.Months())
        {
          if (Convert.ToInt32(nmonth.Value) == month)
          {
            return nmonth.Text;
          }
        }
        return "NA";
      }
      public string getAchievement(string achieve)
      {
        foreach (var nachieve in ListHelper.AchievementStatus())
        {
          if (nachieve.Value == achieve)
          {
            return nachieve.Text;
          }
        }
        return "NA";
      } }

  </tbody>
</table>
